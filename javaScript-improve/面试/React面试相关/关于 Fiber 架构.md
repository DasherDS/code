### 关于 Fiber 架构

- Fiber 是 React 中一种新的架构，它用于实现增量式的、可中断的虚拟DOM diff过程。Fiber的目标是改进React的性能和用户体验，使得React应用程序更加流畅和响应。
- 在React的旧版本中，虚拟DOM diff 过程是一个递归的过程，它会一直执行知道完成，期间无法中断。这可能会导致长时间的js 执行，从而阻塞主线程，造成页面卡顿和不流畅的用户体验。
- 为了解决这个问题，React 引入了Fiber架构，Fiber将整个虚拟DOM diff 过程分为多个小任务，每个小任务称为一个Fiber 节点。这些Fiber节点被组织成一个树状结构，成为FIber树。
- Fiber 树可以被中断和恢复，这意味着在执行Fiber树的diff 过程时，可以在任意时刻中断当前任务，并优先执行其它任务。这样可以使得应用程序更加灵活地响应用户的交互和其它优先级的任务，提高性能和响应性。
- 通过Fiber架构，React可以根据任务的优先级动态的调整任务的执行顺序，从而更好的控制js 的执行。这使得React应用程序可以在不阻塞主线程的情况下进行虚拟DOM diff，减少页面的卡顿和提高用户体验。
- 总而言之，Fiber是React中一种新的架构，用于实现增量式的、可中断的虚拟DOM diff 过程。它通过将diff 过程分为多个小任务，并根据优先级动态的调整任务的执行顺序，提高React应用程序的性能和响应性。



**详见 React 整体架构**